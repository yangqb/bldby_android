# 便利大本营架构文档

## 基础架构

## 页面跳转使用路由跳转(`Arouter`)[Arouter的使用](./路由的使用.md)

* 整体项目使用组件化进行模块分割

### 基础模块`baselibrary`

* `app`项目的基础逻辑业务层(可掺杂少数业务逻辑.作为核心层和业务层的连接)
  * 各个模块的路由跳转表
  * 账户逻辑系统(登录,注册,登出,注销,修改)的信息操作封装,方便各个模块的操作
* `core`项目的 核心技术层(只实现技术逻辑,不惨咋业务逻辑)

### 业务层
各个模块逻辑的具体实现,每个业务层都依赖于`baslibrary`

## 基于路由跳转实现项目的组件化

在`global.gradle`中提供参数

```gr
isBaseApplication = false  //这个不建议改
isShopApplication = true   //商品模块
```

当我们修改`isShopApplication`为true时,商品模块是一个单独的项目,改为false是商品是主项目的一个模块,base模块不建议修改,修改也没用

[组件化的实现](./组件化的实现1.md)

## `fragment`的封装处理

* 使用`fragmentation`第三方依赖库

  * 处理`fragment`的回退栈,物理退出键
  * 处理`fragment`的进出场动画,
  * 回退栈逻辑

* 项目通知使用`Rxbus`

  ![](https://bchimg.oss-cn-beijing.aliyuncs.com/picgo/20200608095657.png)

  在`base`模块的`RxCodeConstants`文件注册通知id[通知的使用](./APP内通知.md)

## 网络请求

* 基于`okhttp`的封装库`OkGO`的使用,进行二次封装
* 实现全局处理,
* 网络检测
* 数据错误,调用处理的处理,增加健壮性

## `SharedPreferences`的替代品`Hawk`

[Hawk的Github](https://github.com/orhanobut/hawk)

```java
Hawk.put(key, T);
T value = Hawk.get(key);
Hawk.delete(key);
Hawk.contains(key);
Hawk.deleteAll();
```



为什么要换

1. `SharedPreferences`不能放太多的数据,否则会造成卡顿
2. `SharedPreferences`不能储存对象类型.不支持泛型





